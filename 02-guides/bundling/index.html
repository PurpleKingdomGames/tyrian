<!DOCTYPE html>
<html lang="en">
  
  <head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="generator" content="Typelevel Laika + Helium Theme" />
  <title>Building &amp; Bundling</title>
  
  
  <meta name="description" content="Elm-inspired Scala web UI library."/>
  
  
  
  <link rel="icon" sizes="32x32" type="image/png" href="../../img/favicon.png"/>
  
  
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700">
  
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Fira+Mono:500">
  
  <link rel="stylesheet" type="text/css" href="../../helium/icofont.min.css" />
    <link rel="stylesheet" type="text/css" href="../../helium/laika-helium.css" />
    <link rel="stylesheet" type="text/css" href="../../css/custom.css" />
  <script src="../../helium/laika-helium.js"></script>
    <script src="../guided-tour.md.js"></script>
    <script src="../subs.md.js"></script>
    <script src="../networking.md.js"></script>
    <script src="../ssr.md.js"></script>
    <script src="../html.md.js"></script>
    <script src="../cmd.md.js"></script>
    <script src="../goodies.md.js"></script>
    <script src="../mdoc.js"></script>
  
  
  <script> /* for avoiding page load transitions */ </script>
</head>

  <body>

    <header id="top-bar" class="light-default dark-default">

  <div class="row">
    <a id="nav-icon">
      <i class="icofont-laika navigationMenu" title="Navigation">&#xefa2;</i>
    </a>
    
    
  </div>

  <a class="image-link" href="../../"><img src="../../img/tyrian-horizontal.svg" alt="Homepage" title="Tyrian" width="150" height="50"></a>

  <div class="row links">
    
    <a class="button-link" href="https://discord.gg/b5CD47g">Discord</a>
    
    <a class="button-link" href="/api">API</a>
    
    <a class="button-link" href="https://github.com/PurpleKingdomGames/tyrian">Github</a>
    
  </div>  

</header>
    
    <nav id="sidebar">

  <div class="row">
    
    <a class="button-link" href="https://discord.gg/b5CD47g">Discord</a>
    
    <a class="button-link" href="/api">API</a>
    
    <a class="button-link" href="https://github.com/PurpleKingdomGames/tyrian">Github</a>
    
  </div>

  <ul class="nav-list">
    <li class="level1 nav-leaf"><a href="../../table-of-content/">Contents</a></li>
    <li class="level1 nav-header">Setup &amp; Configuration</li>
    <li class="level2 nav-leaf"><a href="../../01-installation/quickstart/">Installation</a></li>
    <li class="level1 nav-header">Guides</li>
    <li class="level2 active nav-leaf"><a href="#">Building &amp; Bundling</a></li>
    <li class="level2 nav-leaf"><a href="../cmd/">Commands &amp; Effects</a></li>
    <li class="level2 nav-leaf"><a href="../goodies/">&quot;Built-in Goodies&quot;</a></li>
    <li class="level2 nav-leaf"><a href="../guided-tour/">Guided Example</a></li>
    <li class="level2 nav-leaf"><a href="../html/">Rendering HTML</a></li>
    <li class="level2 nav-leaf"><a href="../networking/">Networking</a></li>
    <li class="level2 nav-leaf"><a href="../routing/">Frontend Routing</a></li>
    <li class="level2 nav-leaf"><a href="../ssr/">Server-side Rendering</a></li>
    <li class="level2 nav-leaf"><a href="../subs/">Subscriptions</a></li>
    <li class="level2 nav-leaf"><a href="../tyrian-indigo-bridge/">Tyrian-Indigo Bridge</a></li>
    <li class="level1 nav-header">Architecture</li>
    <li class="level2 nav-leaf"><a href="../../03-architecture/the-elm-architecture/">The Elm Architecture</a></li>
    <li class="level2 nav-leaf"><a href="../../03-architecture/tyrian-and-indigo/">Tyrian &amp; Indigo</a></li>
    <li class="level2 nav-leaf"><a href="../../03-architecture/tyrian-vs-elm/">Tyrian vs Elm</a></li>
    <li class="level1 nav-header">Examples</li>
    <li class="level2 nav-leaf"><a href="../../04-examples/examples/">Examples</a></li>
    <li class="level1 nav-header">Information &amp; Trivia</li>
    <li class="level2 nav-leaf"><a href="../../05-information/discussion/">Discussion</a></li>
    <li class="level2 nav-leaf"><a href="../../05-information/provenance/">Provenance &amp; Thanks</a></li>
    <li class="level2 nav-leaf"><a href="../../05-information/tyrian-purple/">Tyrian Purple</a></li>
  </ul>

</nav>

    <div id="container">

      
<nav id="page-nav">
  <p class="header"><a href="#">Building &amp; Bundling</a></p>

  <ul class="nav-list">
    <li class="level1 nav-node"><a href="#bundler-differences">Bundler differences</a></li>
    <li class="level2 nav-leaf"><a href="#parcel-js">Parcel.js</a></li>
    <li class="level2 nav-leaf"><a href="#scalajs-bundler">scalajs-bundler</a></li>
  </ul>

  <p class="footer"></p>
</nav>


      <main class="content">

        <h1 id="building-bundling" class="title">Building &amp; Bundling</h1>
        <p>The JavaScript community don&#39;t like to use the word &#39;compiler&#39;, but tools that gather, parse, and link source files into deployable &#39;bundles&#39; are an essential part of modern web app development.</p>
        <p>These tools are called &#39;bundlers&#39;, the most well known of which is probably <a href="https://webpack.js.org/">Webpack</a>. It is beyond the scope of these docs to explain how bundlers work, but they are well documented tools.</p>
        <p>Tyrian needs bundlers too. We could probably manage without them for our raw app, but sooner or later we&#39;re bound to need images, and style sheets, and font files, and other JS libraries etc., and that&#39;s where bundlers shine.</p>
        <p>Bundlers also give you access to things like dev-servers that feature hot-reloading (i.e. your website refreshes when you re-compile your Tyrian app) which is great during development.</p>
        
        <h2 id="bundler-differences" class="section"><a class="anchor-link left" href="#bundler-differences"><i class="icofont-laika link">&#xef71;</i></a>Bundler differences</h2>
        
        <h3 id="parcel-js" class="section"><a class="anchor-link left" href="#parcel-js"><i class="icofont-laika link">&#xef71;</i></a>Parcel.js</h3>
        <p><a href="https://github.com/PurpleKingdomGames/tyrian/tree/main/examples">Most of our examples</a> use <a href="https://parceljs.org/">Parcel.js</a>. This is because Webpack is very config heavy, while Parcel is almost zero config. In practical terms this means that Parcel is very quick to get up and running, but if you find a corner case then sourcing a workaround can be tricky. Webpack on the other hand looks to have configuration and plugins for pretty much anything you can think of, and an increased learning curve to go with it.</p>
        
        <h3 id="scalajs-bundler" class="section"><a class="anchor-link left" href="#scalajs-bundler"><i class="icofont-laika link">&#xef71;</i></a>scalajs-bundler</h3>
        <p>I&#39;ve already mentioned that Webpack is the most well known bundler, and Scala.js has an sbt based bundler called <a href="https://scalacenter.github.io/scalajs-bundler/">scalajs-bundler</a> that uses Webpack under the covers.</p>
        <p>We have a standalone <a href="https://github.com/PurpleKingdomGames/tyrian/tree/main/examples/bundler">example of using Tyrian with scalajs-bundler</a> you can look at, and we also use it in our <a href="https://github.com/PurpleKingdomGames/tyrian/tree/main/examples/server-examples">server based example</a>.</p>
        
        <h4 id="converting-from-parcel-js-to-scalajs-bundler" class="section"><a class="anchor-link left" href="#converting-from-parcel-js-to-scalajs-bundler"><i class="icofont-laika link">&#xef71;</i></a>Converting from Parcel.js to scalajs-bundler</h4>
        <p>In the parcel.js examples, you always call <code>TyrianApp.launch(..)</code> sooner or later. With scalajs-bundler (at least in our examples), the app launches itself. There are a few subtle differences you need to look out for:</p>
        <ol class="arabic">
          <li>In your <code>build.sbt</code> file, you need to tell Scala.js to run from the <code>main</code> method.</li>
        </ol>
        <p><code>scalaJSUseMainModuleInitializer := true,</code></p>
        <ol class="arabic">
          <li>...and so you&#39;ll need a <code>main</code> method!</li>
        </ol>
        <p>To do that we just call one of the underlying <code>launch</code> methods on the <code>TyrianApp</code> trait. (These are the same methods we would have called from JavaScript to launch the app via Parcel.js.)</p>
        <pre class="keep-together pdf epub"><code class="nohighlight"><span class="keyword">def</span><span> </span><span class="declaration-name">main</span><span>(</span><span class="identifier">args</span><span>: </span><span class="type-name">Array</span><span>[</span><span class="type-name">String</span><span>]): </span><span class="type-name">Unit</span><span> =
  </span><span class="identifier">launch</span><span>(</span><span class="string-literal">&quot;myapp&quot;</span><span>)</span></code></pre>
        <ol class="arabic">
          <li>Add the scalajs-bundler plugin.</li>
        </ol>
        <p>Add the following to <code>project/plugins.sbt</code>:</p>
        <pre class="keep-together pdf epub"><code class="nohighlight"><span class="identifier">addSbtPlugin</span><span>(</span><span class="string-literal">&quot;ch.epfl.scala&quot;</span><span> % </span><span class="string-literal">&quot;sbt-scalajs-bundler&quot;</span><span> % </span><span class="string-literal">&quot;0.20.0&quot;</span><span>)</span></code></pre>
        <p>And enable the plugin on the project in your <code>build.sbt</code> file:</p>
        <pre class="keep-together pdf epub"><code class="nohighlight"><span class="identifier">enablePlugins</span><span>(</span><span class="type-name">ScalaJSBundlerPlugin</span><span>)</span></code></pre>
        <ol class="arabic">
          <li>Reference the right <code>js</code> file.</li>
        </ol>
        <p>In the parcel.js examples, you&#39;ll see that we directly reference the normal Scala.js build output file in the <code>target</code> directory (or <code>out</code> directory in Mill examples), such as <code>target/3.3.1/tyrianapp-fastopt.js</code>. This is so that you can hot-reload on re-compile. However in scalajs-bundler, the output folder and file name you need to use will be slightly different, such as <code>target/3.3.1/scalajs-bundler/main/tyrianapp-fastopt-bundle.js</code>.</p>
        <p>This is because scalajs-bundler is combining your code with all your other js dependencies into one big bundle, hence the name change.</p>
        <blockquote>Note: Behind the scenes, parcel.js does the same thing, it&#39;s just not as obvious and doesn&#39;t require you to do anything.</blockquote>

        
<hr class="footer-rule"/>
<footer>
  Site generated by <a href="https://typelevel.org/Laika/">Laika</a> with the Helium theme.
</footer>


      </main>

    </div>

  </body>

</html>